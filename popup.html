<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="popup.css" />
  </head>
  <body>
    <div class="popup-container">
      <h1 class="popup-title">&#x1F4DA; 收藏到就是学到</h1>

      <!-- Tab navigation -->
      <div class="tab-bar">
        <button class="tab-btn active" data-tab="settings">设置</button>
        <button class="tab-btn" data-tab="history">历史记录</button>
      </div>

      <!-- Settings tab -->
      <div class="tab-panel active" id="tab-settings">
        <div class="form-group">
          <label for="provider">AI 模型</label>
          <select id="provider">
            <option value="openai">OpenAI (GPT)</option>
            <option value="claude">Claude (Anthropic)</option>
            <option value="kimi">Kimi (月之暗面)</option>
            <option value="zhipu">智谱 (GLM)</option>
          </select>
        </div>

        <div class="form-group">
          <label for="model">模型版本 <span class="optional">(可选)</span></label>
          <input type="text" id="model" placeholder="留空使用默认模型" />
          <div class="hint" id="modelHint">默认: gpt-4o-mini</div>
        </div>

        <div class="form-group">
          <label for="apiKey">API Key</label>
          <div class="input-wrapper">
            <input type="password" id="apiKey" placeholder="输入你的 API Key" />
            <button id="toggleKey" class="toggle-btn" title="显示/隐藏">&#x1F441;</button>
          </div>
        </div>

        <div class="form-group">
          <label for="language">摘要语言</label>
          <select id="language">
            <option value="zh-CN">简体中文</option>
            <option value="zh-TW">繁體中文</option>
            <option value="en">English</option>
            <option value="ja">日本語</option>
            <option value="ko">한국어</option>
          </select>
        </div>

        <div class="form-group checkbox-group">
          <label class="checkbox-label">
            <input type="checkbox" id="autoDownloadMd" checked />
            <span>自动下载 Markdown 文件</span>
          </label>
          <div class="hint">收藏时自动保存 .md 文件到本地</div>
        </div>

        <button id="saveBtn" class="save-btn">保存设置</button>
        <div id="status" class="status"></div>
      </div>

      <!-- History tab -->
      <div class="tab-panel" id="tab-history">
        <div id="historyList" class="history-list"></div>
        <div id="historyEmpty" class="history-empty" style="display:none;">
          还没有收藏记录
        </div>
        <button id="clearHistoryBtn" class="clear-history-btn" style="display:none;">
          清空历史记录
        </button>
      </div>
    </div>
    <script src="popup.js"></script>
  </body>
</html>
